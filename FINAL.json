[{"id":"c9abc510b829be32","type":"tab","label":"Flow 8","disabled":false,"info":"","env":[]},{"id":"519aadd57c4a35f4","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"f08a75afcc569cf8","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":60,"wires":[["64f5620634d89c54"]]},{"id":"64f5620634d89c54","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":60,"wires":[["9f375ebf2330c4b7"]]},{"id":"9f375ebf2330c4b7","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":60,"wires":[["ad64629846c05608"]]},{"id":"ad64629846c05608","type":"function","z":"c9abc510b829be32","name":"device's watt sec","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\n\nmsg.payload=wattsec;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":630,"y":60,"wires":[["141f9c1689eb9208"]]},{"id":"74c85fb94405ac75","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"f08a75afcc569cf8","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":100,"wires":[["42dcf28c3cce8c2d"]]},{"id":"42dcf28c3cce8c2d","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":100,"wires":[["99742e3ea055f175"]]},{"id":"99742e3ea055f175","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":100,"wires":[["b2d3578fde6ba167"]]},{"id":"b2d3578fde6ba167","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":100,"wires":[["141f9c1689eb9208"]]},{"id":"f180b6676c604883","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"f08a75afcc569cf8","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":140,"wires":[["6c9471eb20c98253"]]},{"id":"6c9471eb20c98253","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":140,"wires":[["4aa8bebcf83f939e"]]},{"id":"4aa8bebcf83f939e","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":140,"wires":[["6cf39f82dcaed627"]]},{"id":"6cf39f82dcaed627","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":140,"wires":[["141f9c1689eb9208"]]},{"id":"2fa48c6d3916bc18","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"TV","tooltip":"","group":"f08a75afcc569cf8","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":180,"wires":[["7097c5392f4d77a7"]]},{"id":"7097c5392f4d77a7","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":180,"wires":[["040a26f21579adb9"]]},{"id":"040a26f21579adb9","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":180,"wires":[["6d083fdbb589e42d"]]},{"id":"6d083fdbb589e42d","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=50;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":180,"wires":[["141f9c1689eb9208"]]},{"id":"bf804d2ce1c340d4","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"DOOR BELL","tooltip":"","group":"f08a75afcc569cf8","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":210,"y":220,"wires":[["81dabcbf91816643"]]},{"id":"81dabcbf91816643","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":380,"y":220,"wires":[["5f6279b896d3d6f0"]]},{"id":"5f6279b896d3d6f0","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":530,"y":220,"wires":[["e6c509093b89d84c"]]},{"id":"e6c509093b89d84c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":640,"y":220,"wires":[["141f9c1689eb9208"]]},{"id":"17950495624a33ac","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"f08a75afcc569cf8","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":260,"wires":[["2ffd52c35d28c19c"]]},{"id":"2ffd52c35d28c19c","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":260,"wires":[["14eb3a1fb7cd071b"]]},{"id":"14eb3a1fb7cd071b","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":260,"wires":[["bfcc2107d2915577"]]},{"id":"bfcc2107d2915577","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1430;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":260,"wires":[["141f9c1689eb9208"]]},{"id":"6d161fcc69143063","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"f08a75afcc569cf8","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":210,"y":300,"wires":[["d700ab8ebde0013f"]]},{"id":"d700ab8ebde0013f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":380,"y":300,"wires":[["f85e1c5bdf328950"]]},{"id":"f85e1c5bdf328950","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":510,"y":300,"wires":[["b06dc4754a343105"]]},{"id":"b06dc4754a343105","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":600,"y":300,"wires":[["141f9c1689eb9208"]]},{"id":"c5e3c27390f6f9f7","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"f08a75afcc569cf8","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":210,"y":340,"wires":[["476db81d14cbad91"]]},{"id":"476db81d14cbad91","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":380,"y":340,"wires":[["e37209c9b71bf35e"]]},{"id":"e37209c9b71bf35e","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":530,"y":340,"wires":[["769d63f5424fbaed"]]},{"id":"769d63f5424fbaed","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":640,"y":340,"wires":[["141f9c1689eb9208"]]},{"id":"9442ca0e5ea44d68","type":"comment","z":"c9abc510b829be32","name":"HALL","info":"","x":310,"y":20,"wires":[]},{"id":"0d8b183a4bdedf60","type":"comment","z":"c9abc510b829be32","name":"KITCHEN","info":"","x":200,"y":400,"wires":[]},{"id":"56f7192014072087","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"9fd67e60fd54a70d","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":440,"wires":[["73b7bc7637960ede"]]},{"id":"73b7bc7637960ede","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":440,"wires":[["cfa22e78c3af5679"]]},{"id":"cfa22e78c3af5679","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":440,"wires":[["d753600d75964de9"]]},{"id":"d753600d75964de9","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":440,"wires":[["141f9c1689eb9208"]]},{"id":"1213668d00da7829","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FRIDGE","tooltip":"","group":"9fd67e60fd54a70d","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":200,"y":480,"wires":[["e5aab9b4613efec2"]]},{"id":"e5aab9b4613efec2","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":480,"wires":[["b29d31f45432e27e"]]},{"id":"b29d31f45432e27e","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":490,"y":480,"wires":[["ede966cf2b58ca1f"]]},{"id":"ede966cf2b58ca1f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=20;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":480,"wires":[["141f9c1689eb9208"]]},{"id":"1e5b8ed294c6406e","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"CHIMNEY","tooltip":"","group":"9fd67e60fd54a70d","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":520,"wires":[["e49ed09d9c703e2d"]]},{"id":"e49ed09d9c703e2d","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":520,"wires":[["68e5a37b77a9ffe9"]]},{"id":"68e5a37b77a9ffe9","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":490,"y":520,"wires":[["2660c8972ba0e2df"]]},{"id":"2660c8972ba0e2df","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=100;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":600,"y":520,"wires":[["141f9c1689eb9208"]]},{"id":"a1324e670c7fc660","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"EXHAUST","tooltip":"","group":"9fd67e60fd54a70d","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":560,"wires":[["e4a9480af2e76aa4"]]},{"id":"e4a9480af2e76aa4","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":360,"y":560,"wires":[["5b9ca5a71744318a"]]},{"id":"5b9ca5a71744318a","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":510,"y":560,"wires":[["46acac58d15010a2"]]},{"id":"46acac58d15010a2","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":620,"y":560,"wires":[["141f9c1689eb9208"]]},{"id":"4db03b229294504c","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"MICROWAVE","tooltip":"","group":"9fd67e60fd54a70d","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":180,"y":600,"wires":[["9e28390d30978fca"]]},{"id":"9e28390d30978fca","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":600,"wires":[["ec036eebc69fb6d0"]]},{"id":"ec036eebc69fb6d0","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":490,"y":600,"wires":[["36c11e52bfc03866"]]},{"id":"36c11e52bfc03866","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":600,"wires":[["141f9c1689eb9208"]]},{"id":"45f22af05bf4f18b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"9fd67e60fd54a70d","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":640,"wires":[["97161f7888ce8bcc"]]},{"id":"97161f7888ce8bcc","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":640,"wires":[["5e195f1f68eb0a76"]]},{"id":"5e195f1f68eb0a76","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":640,"wires":[["aa62f2c25165240f"]]},{"id":"aa62f2c25165240f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":640,"wires":[["141f9c1689eb9208"]]},{"id":"c12e81a5d3a04d38","type":"comment","z":"c9abc510b829be32","name":"ROOM","info":"","x":170,"y":680,"wires":[]},{"id":"35ade85bba558e3b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"1c8559ee9146e2b1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":720,"wires":[["85035e213651b1d3"]]},{"id":"85035e213651b1d3","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":720,"wires":[["d02581df5ac37079"]]},{"id":"d02581df5ac37079","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":720,"wires":[["7f399a1e54980ad6"]]},{"id":"7f399a1e54980ad6","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":720,"wires":[["141f9c1689eb9208"]]},{"id":"67c6c5843895891b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"1c8559ee9146e2b1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":760,"wires":[["0d3f25172e96ee64"]]},{"id":"0d3f25172e96ee64","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":760,"wires":[["3652e2374f83f2b4"]]},{"id":"3652e2374f83f2b4","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":430,"y":760,"wires":[["b4ea670308e5ef11"]]},{"id":"b4ea670308e5ef11","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":520,"y":760,"wires":[["141f9c1689eb9208"]]},{"id":"c1cfbf06869b66a4","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"NIGHT LAMP","tooltip":"","group":"1c8559ee9146e2b1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":200,"y":800,"wires":[["7b8a81cbf28f9c11"]]},{"id":"7b8a81cbf28f9c11","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":360,"y":800,"wires":[["1d99feab658c13ba"]]},{"id":"1d99feab658c13ba","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":490,"y":800,"wires":[["7a56c6bd7d3492a8"]]},{"id":"7a56c6bd7d3492a8","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":800,"wires":[["141f9c1689eb9208"]]},{"id":"e6ab88e111536cde","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"1c8559ee9146e2b1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":840,"wires":[["859c49d5f2dbc3a6"]]},{"id":"859c49d5f2dbc3a6","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":840,"wires":[["9abe9618c320b5d0"]]},{"id":"9abe9618c320b5d0","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":840,"wires":[["5705eca79ba67599"]]},{"id":"5705eca79ba67599","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":840,"wires":[["141f9c1689eb9208"]]},{"id":"7c5afa0588b9862d","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"1c8559ee9146e2b1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":880,"wires":[["27ffd6e5a10ed349"]]},{"id":"27ffd6e5a10ed349","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":880,"wires":[["87a7c936124aba59"]]},{"id":"87a7c936124aba59","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":880,"wires":[["53fedd409bf9268a"]]},{"id":"53fedd409bf9268a","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":880,"wires":[["141f9c1689eb9208"]]},{"id":"af8a96fbb487b3d9","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"1c8559ee9146e2b1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":920,"wires":[["c5fa157ebfe725cb"]]},{"id":"c5fa157ebfe725cb","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":920,"wires":[["046507f3e25b11f4"]]},{"id":"046507f3e25b11f4","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":920,"wires":[["b1b612821bbf2a0c"]]},{"id":"b1b612821bbf2a0c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":920,"wires":[["141f9c1689eb9208"]]},{"id":"805260de4d0f3f5b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"BULB","tooltip":"","group":"a817e2f95a1a20c1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1000,"wires":[["cdf62503656fdbbe"]]},{"id":"cdf62503656fdbbe","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":1000,"wires":[["4716294cc9257612"]]},{"id":"4716294cc9257612","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":1000,"wires":[["7bb6feec8941fb94"]]},{"id":"7bb6feec8941fb94","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=6;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":1000,"wires":[["141f9c1689eb9208"]]},{"id":"c6c342961fed838c","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"GYSER","tooltip":"","group":"a817e2f95a1a20c1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":180,"y":1040,"wires":[["50c1c50980c4d8dd"]]},{"id":"50c1c50980c4d8dd","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":1040,"wires":[["8af3afca900ee824"]]},{"id":"8af3afca900ee824","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":1040,"wires":[["71e94531fd2be332"]]},{"id":"71e94531fd2be332","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":1040,"wires":[["141f9c1689eb9208"]]},{"id":"8808d4bf99029ec1","type":"comment","z":"c9abc510b829be32","name":"BATHROOM","info":"","x":210,"y":960,"wires":[]},{"id":"9e7869912d9d4ec9","type":"comment","z":"c9abc510b829be32","name":"FLAT 1","info":"","x":190,"y":20,"wires":[]},{"id":"af78e3a6bf112934","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"b4b6f54e49e15b48","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1140,"wires":[["44e6960cdc9301fe"]]},{"id":"44e6960cdc9301fe","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":1140,"wires":[["2b417c1067f21589"]]},{"id":"2b417c1067f21589","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":1140,"wires":[["4cd30d60b36b1e8a"]]},{"id":"4cd30d60b36b1e8a","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1140,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"3e1015b0ea795f4f","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"b4b6f54e49e15b48","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1180,"wires":[["5bda52bf43996c62"]]},{"id":"5bda52bf43996c62","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":1180,"wires":[["7517b9869e3c3e47"]]},{"id":"7517b9869e3c3e47","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":1180,"wires":[["42f58d458bf6a2b3"]]},{"id":"42f58d458bf6a2b3","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1180,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"c5783b414f28d664","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"b4b6f54e49e15b48","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1220,"wires":[["a17ef96a602df13f"]]},{"id":"a17ef96a602df13f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":1220,"wires":[["870c89741dbb455c"]]},{"id":"870c89741dbb455c","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":1220,"wires":[["044f9c7270120a07"]]},{"id":"044f9c7270120a07","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1220,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"b27604543fd391b2","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"TV","tooltip":"","group":"b4b6f54e49e15b48","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1260,"wires":[["594443af4f078768"]]},{"id":"594443af4f078768","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":1260,"wires":[["ecf8e31003045813"]]},{"id":"ecf8e31003045813","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":1260,"wires":[["bd15d78af46d8d7d"]]},{"id":"bd15d78af46d8d7d","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=50;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1260,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"1196acd4ca6f8656","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"DOOR BELL","tooltip":"","group":"b4b6f54e49e15b48","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":1300,"wires":[["0aa33f166defe26b"]]},{"id":"0aa33f166defe26b","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":360,"y":1300,"wires":[["0538a7fe908c9c24"]]},{"id":"0538a7fe908c9c24","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":510,"y":1300,"wires":[["66f84cafc831c129"]]},{"id":"66f84cafc831c129","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":620,"y":1300,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"8a21fe7684ba6057","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"b4b6f54e49e15b48","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1340,"wires":[["72318b5ee2c33a7c"]]},{"id":"72318b5ee2c33a7c","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":1340,"wires":[["cce240d48c071828"]]},{"id":"cce240d48c071828","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":1340,"wires":[["0d9e6478d0675435"]]},{"id":"0d9e6478d0675435","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1430;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1340,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"4537796cd1048ab4","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"b4b6f54e49e15b48","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":1380,"wires":[["a4ed7f38274da424"]]},{"id":"a4ed7f38274da424","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":360,"y":1380,"wires":[["ce044df80fc8a932"]]},{"id":"ce044df80fc8a932","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":490,"y":1380,"wires":[["0341ae2ee51f36e5"]]},{"id":"0341ae2ee51f36e5","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":1380,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"d26259383943f06b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"b4b6f54e49e15b48","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":190,"y":1420,"wires":[["1a45854255078dec"]]},{"id":"1a45854255078dec","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":360,"y":1420,"wires":[["2e4f3499b44d3d8c"]]},{"id":"2e4f3499b44d3d8c","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":510,"y":1420,"wires":[["157432af488da262"]]},{"id":"157432af488da262","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":620,"y":1420,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"2715a7b1b5d2471a","type":"comment","z":"c9abc510b829be32","name":"HALL","info":"","x":290,"y":1100,"wires":[]},{"id":"7a8785293e6a8ffd","type":"comment","z":"c9abc510b829be32","name":"KITCHEN","info":"","x":180,"y":1480,"wires":[]},{"id":"49bfe5e9be53e2f7","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"0e6e342dd494185f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1520,"wires":[["44a07660521e15c2"]]},{"id":"44a07660521e15c2","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":1520,"wires":[["2d28f6f0813c492e"]]},{"id":"2d28f6f0813c492e","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":1520,"wires":[["5237e883fbc6a911"]]},{"id":"5237e883fbc6a911","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1520,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"91377b9ac872ba84","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FRIDGE","tooltip":"","group":"0e6e342dd494185f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":180,"y":1560,"wires":[["8389029fa607f257"]]},{"id":"8389029fa607f257","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":1560,"wires":[["65bc3d1ce6214d5d"]]},{"id":"65bc3d1ce6214d5d","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":1560,"wires":[["ef77c7b87aadcfeb"]]},{"id":"ef77c7b87aadcfeb","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=20;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1560,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"49bcaa6c9516a560","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"CHIMNEY","tooltip":"","group":"0e6e342dd494185f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1600,"wires":[["fcb7758ca7c94ec7"]]},{"id":"fcb7758ca7c94ec7","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":1600,"wires":[["3924f9e6fee73e84"]]},{"id":"3924f9e6fee73e84","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":1600,"wires":[["08ab32aa739711fb"]]},{"id":"08ab32aa739711fb","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=100;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":580,"y":1600,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"5876cb1ae73e1299","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"EXHAUST","tooltip":"","group":"0e6e342dd494185f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1640,"wires":[["38d29c75e3d09060"]]},{"id":"38d29c75e3d09060","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":1640,"wires":[["291ea5b3a7b53467"]]},{"id":"291ea5b3a7b53467","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":490,"y":1640,"wires":[["5f4e3a5a91c532db"]]},{"id":"5f4e3a5a91c532db","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":600,"y":1640,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"43b3a2916f430209","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"MICROWAVE","tooltip":"","group":"0e6e342dd494185f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":160,"y":1680,"wires":[["2cda64e4a87dce50"]]},{"id":"2cda64e4a87dce50","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":1680,"wires":[["6442996bf5576326"]]},{"id":"6442996bf5576326","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":1680,"wires":[["6d3a643b6056240c"]]},{"id":"6d3a643b6056240c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1680,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"4cfe3d7c4205290a","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"0e6e342dd494185f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":150,"y":1720,"wires":[["ecbe921b95949b82"]]},{"id":"ecbe921b95949b82","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":1720,"wires":[["7c4b07ba2f011a4e"]]},{"id":"7c4b07ba2f011a4e","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":430,"y":1720,"wires":[["a634a82362d80113"]]},{"id":"a634a82362d80113","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":540,"y":1720,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"77d75e68bad57fbe","type":"comment","z":"c9abc510b829be32","name":"ROOM","info":"","x":150,"y":1760,"wires":[]},{"id":"7b1edf7161303fd7","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"7e9ed55064306e07","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":150,"y":1800,"wires":[["7dbc953ccfd53407"]]},{"id":"7dbc953ccfd53407","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":1800,"wires":[["732badde48f3b37d"]]},{"id":"732badde48f3b37d","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":1800,"wires":[["cfb143a9e4345db4"]]},{"id":"cfb143a9e4345db4","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":540,"y":1800,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"df97bcd2b3ae320f","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"7e9ed55064306e07","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":150,"y":1840,"wires":[["4944df452153be0a"]]},{"id":"4944df452153be0a","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":280,"y":1840,"wires":[["21eb1f77ec6375b3"]]},{"id":"21eb1f77ec6375b3","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":410,"y":1840,"wires":[["8dbc01101dd5516e"]]},{"id":"8dbc01101dd5516e","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":500,"y":1840,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"f267cdb52449207f","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"NIGHT LAMP","tooltip":"","group":"7e9ed55064306e07","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":180,"y":1880,"wires":[["d1e03dc487c34b74"]]},{"id":"d1e03dc487c34b74","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":340,"y":1880,"wires":[["a62b04acac14aa8f"]]},{"id":"a62b04acac14aa8f","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":470,"y":1880,"wires":[["c39e92123d85010f"]]},{"id":"c39e92123d85010f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":1880,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"99af16d2ac97868a","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"7e9ed55064306e07","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1920,"wires":[["ed26e97626fd1526"]]},{"id":"ed26e97626fd1526","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":1920,"wires":[["ffc3fedda0abcceb"]]},{"id":"ffc3fedda0abcceb","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":430,"y":1920,"wires":[["0b9cc18b028171fe"]]},{"id":"0b9cc18b028171fe","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":540,"y":1920,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"5f8f7cc148955266","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"7e9ed55064306e07","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":1960,"wires":[["651557e9e0c901fd"]]},{"id":"651557e9e0c901fd","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":1960,"wires":[["8dd650fee5dda4ca"]]},{"id":"8dd650fee5dda4ca","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":1960,"wires":[["92db8ddd1e0cec67"]]},{"id":"92db8ddd1e0cec67","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":540,"y":1960,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"83b2dccc906490bf","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"7e9ed55064306e07","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":170,"y":2000,"wires":[["16126905a9a54744"]]},{"id":"16126905a9a54744","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":320,"y":2000,"wires":[["9bc6bc8c3f307c3c"]]},{"id":"9bc6bc8c3f307c3c","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":2000,"wires":[["5ffcb18da04ecc42"]]},{"id":"5ffcb18da04ecc42","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":2000,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"6ad42afdb98497ee","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"BULB","tooltip":"","group":"844de366a2096c08","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":150,"y":2080,"wires":[["661c4b7188e17c95"]]},{"id":"661c4b7188e17c95","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":2080,"wires":[["0c9be4867f473fa5"]]},{"id":"0c9be4867f473fa5","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":2080,"wires":[["d9c909c159ebea20"]]},{"id":"d9c909c159ebea20","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=6;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":2080,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"6ea436d166b5fab8","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"GYSER","tooltip":"","group":"844de366a2096c08","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":160,"y":2120,"wires":[["a8d918872e79e1d9"]]},{"id":"a8d918872e79e1d9","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":300,"y":2120,"wires":[["57aed1ad6a57bf9d"]]},{"id":"57aed1ad6a57bf9d","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":450,"y":2120,"wires":[["f7619a05d00781a9"]]},{"id":"f7619a05d00781a9","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":560,"y":2120,"wires":[["5a6c1cd0a34bdb84"]]},{"id":"ec647dec4cc60352","type":"comment","z":"c9abc510b829be32","name":"BATHROOM","info":"","x":190,"y":2040,"wires":[]},{"id":"4c2ab941d13b1748","type":"comment","z":"c9abc510b829be32","name":"FLAT 2","info":"","x":170,"y":1100,"wires":[]},{"id":"6fbb13a16e2acc44","type":"comment","z":"c9abc510b829be32","name":"HALL","info":"","x":1510,"y":40,"wires":[]},{"id":"e54ef71dcea07511","type":"comment","z":"c9abc510b829be32","name":"FLAT 3","info":"","x":1390,"y":40,"wires":[]},{"id":"95d69642603bee0e","type":"join","z":"c9abc510b829be32","name":"string array","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":970,"y":580,"wires":[["49b412d998de2cc2"]]},{"id":"141f9c1689eb9208","type":"json","z":"c9abc510b829be32","name":"obj to string","property":"payload","action":"","pretty":false,"x":930,"y":500,"wires":[["95d69642603bee0e"]]},{"id":"49b412d998de2cc2","type":"function","z":"c9abc510b829be32","name":"total load in kwatt hr","func":"var inp=msg.payload;\nvar load=flow.get('load')||0;\nfor(var i=0;i<inp.length;i++)\n{\n    load+=parseInt(inp[i]);\n}\nflow.set('load',load);\nmsg.payload=parseFloat(load/(1000*60*60));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3060,"y":960,"wires":[["a2a7a2e34e6047d3"]]},{"id":"af7954451809fe08","type":"join","z":"c9abc510b829be32","name":"string array","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1030,"y":1580,"wires":[["1a2c66d58b544ddc"]]},{"id":"5a6c1cd0a34bdb84","type":"json","z":"c9abc510b829be32","name":"obj to string","property":"payload","action":"","pretty":false,"x":990,"y":1500,"wires":[["af7954451809fe08"]]},{"id":"1a2c66d58b544ddc","type":"function","z":"c9abc510b829be32","name":"total load in kwatt hr","func":"var inp=msg.payload;\nvar load=flow.get('load')||0;\nfor(var i=0;i<inp.length;i++)\n{\n    load+=parseInt(inp[i]);\n}\nflow.set('load',load);\nmsg.payload=parseFloat(load/(1000*60*60));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3060,"y":1000,"wires":[["a2a7a2e34e6047d3"]]},{"id":"9cf012fd550297ef","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"ab3fbc22ba5eac30","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":80,"wires":[["82baeb4382378dbc"]]},{"id":"82baeb4382378dbc","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":80,"wires":[["60f3e28743ec0cea"]]},{"id":"60f3e28743ec0cea","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":80,"wires":[["81aee3aa28ee06b8"]]},{"id":"81aee3aa28ee06b8","type":"function","z":"c9abc510b829be32","name":"device's watt sec","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1810,"y":80,"wires":[["c40e2061a6a970cb"]]},{"id":"f9df6f0ff52942b2","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"ab3fbc22ba5eac30","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":120,"wires":[["ab3c43bb97f1cff5"]]},{"id":"ab3c43bb97f1cff5","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":120,"wires":[["c78809a558827de8"]]},{"id":"c78809a558827de8","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":120,"wires":[["eaec900229dcb573"]]},{"id":"eaec900229dcb573","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":120,"wires":[["c40e2061a6a970cb"]]},{"id":"47bc87339cb5f949","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"ab3fbc22ba5eac30","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":160,"wires":[["51beb08c81831501"]]},{"id":"51beb08c81831501","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":160,"wires":[["9a31af76bd949f54"]]},{"id":"9a31af76bd949f54","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":160,"wires":[["e5b24ea1df056334"]]},{"id":"e5b24ea1df056334","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":160,"wires":[["c40e2061a6a970cb"]]},{"id":"ab4f03592ea18835","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"TV","tooltip":"","group":"ab3fbc22ba5eac30","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":200,"wires":[["2182051001df767f"]]},{"id":"2182051001df767f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":200,"wires":[["c22d38da4016f332"]]},{"id":"c22d38da4016f332","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":200,"wires":[["530ccc150de91c8c"]]},{"id":"530ccc150de91c8c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=50;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":200,"wires":[["c40e2061a6a970cb"]]},{"id":"aab7f96fcfaea4db","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"DOOR BELL","tooltip":"","group":"ab3fbc22ba5eac30","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1390,"y":240,"wires":[["108ac704cff98388"]]},{"id":"108ac704cff98388","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1560,"y":240,"wires":[["fbab0a0c2ce377bb"]]},{"id":"fbab0a0c2ce377bb","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1710,"y":240,"wires":[["ebca95965bf5d84d"]]},{"id":"ebca95965bf5d84d","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1820,"y":240,"wires":[["c40e2061a6a970cb"]]},{"id":"3a993c3c965d164a","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"ab3fbc22ba5eac30","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":280,"wires":[["4ae735744bee8ae5"]]},{"id":"4ae735744bee8ae5","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":280,"wires":[["bba5764fa753f911"]]},{"id":"bba5764fa753f911","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":280,"wires":[["c3f901a9ca6aa12c"]]},{"id":"c3f901a9ca6aa12c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1430;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":280,"wires":[["c40e2061a6a970cb"]]},{"id":"1758e295cf88f73f","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"ab3fbc22ba5eac30","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1390,"y":320,"wires":[["0d4a6761058b2663"]]},{"id":"0d4a6761058b2663","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1560,"y":320,"wires":[["5ad6938654f3bc26"]]},{"id":"5ad6938654f3bc26","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1690,"y":320,"wires":[["19df77e9b0f5b08f"]]},{"id":"19df77e9b0f5b08f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1780,"y":320,"wires":[["c40e2061a6a970cb"]]},{"id":"706cd295b6812e90","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"ab3fbc22ba5eac30","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1390,"y":360,"wires":[["45bef9c012ab5823"]]},{"id":"45bef9c012ab5823","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1560,"y":360,"wires":[["408e7515959dd858"]]},{"id":"408e7515959dd858","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1710,"y":360,"wires":[["d42d977046fe9ac7"]]},{"id":"d42d977046fe9ac7","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1820,"y":360,"wires":[["c40e2061a6a970cb"]]},{"id":"88899924c9e84e3d","type":"comment","z":"c9abc510b829be32","name":"KITCHEN","info":"","x":1380,"y":420,"wires":[]},{"id":"ab2ff32a8ed1c04b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"dc94ec908cc19022","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":460,"wires":[["b7c1bdca67966537"]]},{"id":"b7c1bdca67966537","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":460,"wires":[["34143b5c66858c50"]]},{"id":"34143b5c66858c50","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":460,"wires":[["5a97426146303fb1"]]},{"id":"5a97426146303fb1","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":460,"wires":[["c40e2061a6a970cb"]]},{"id":"b64b593315ae6209","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FRIDGE","tooltip":"","group":"dc94ec908cc19022","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1380,"y":500,"wires":[["ef4d1f390bde3b6b"]]},{"id":"ef4d1f390bde3b6b","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":500,"wires":[["40105f8450d0376c"]]},{"id":"40105f8450d0376c","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1670,"y":500,"wires":[["1183a6282b76aa2a"]]},{"id":"1183a6282b76aa2a","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=20;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":500,"wires":[["c40e2061a6a970cb"]]},{"id":"64e10573178c1025","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"CHIMNEY","tooltip":"","group":"dc94ec908cc19022","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":540,"wires":[["41c4d1614f578708"]]},{"id":"41c4d1614f578708","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":540,"wires":[["5d69410377303f0d"]]},{"id":"5d69410377303f0d","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1670,"y":540,"wires":[["e6d48364c08b3765"]]},{"id":"e6d48364c08b3765","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=100;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1780,"y":540,"wires":[["c40e2061a6a970cb"]]},{"id":"7347fd0c4c5adcd1","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"EXHAUST","tooltip":"","group":"dc94ec908cc19022","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":580,"wires":[["c65ebecdd74389c3"]]},{"id":"c65ebecdd74389c3","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1540,"y":580,"wires":[["161b5d1a85fdb973"]]},{"id":"161b5d1a85fdb973","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1690,"y":580,"wires":[["b32d4592384201ab"]]},{"id":"b32d4592384201ab","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1800,"y":580,"wires":[["c40e2061a6a970cb"]]},{"id":"f05e19061f339897","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"MICROWAVE","tooltip":"","group":"dc94ec908cc19022","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1360,"y":620,"wires":[["2de59dc11c35fa87"]]},{"id":"2de59dc11c35fa87","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":620,"wires":[["f98b1f9f4ded7be3"]]},{"id":"f98b1f9f4ded7be3","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1670,"y":620,"wires":[["668599e498d10ee6"]]},{"id":"668599e498d10ee6","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":620,"wires":[["c40e2061a6a970cb"]]},{"id":"bae19ba75415f163","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"dc94ec908cc19022","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":660,"wires":[["3fbbca54f847adc4"]]},{"id":"3fbbca54f847adc4","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":660,"wires":[["51140c0fdf24f234"]]},{"id":"51140c0fdf24f234","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":660,"wires":[["e54735cd7d22aa3b"]]},{"id":"e54735cd7d22aa3b","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":660,"wires":[["c40e2061a6a970cb"]]},{"id":"d56a3f43ca1d1d76","type":"comment","z":"c9abc510b829be32","name":"ROOM","info":"","x":1350,"y":700,"wires":[]},{"id":"2f56b3913a08513e","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"0b41ee351a396b17","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":740,"wires":[["903936382e66303e"]]},{"id":"903936382e66303e","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":740,"wires":[["45b46c40c8957c83"]]},{"id":"45b46c40c8957c83","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":740,"wires":[["d447f0e484475f5a"]]},{"id":"d447f0e484475f5a","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":740,"wires":[["c40e2061a6a970cb"]]},{"id":"ca80ccf0cf5d275d","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"0b41ee351a396b17","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":780,"wires":[["c92b6396ed77c45d"]]},{"id":"c92b6396ed77c45d","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":780,"wires":[["541744693fcf409c"]]},{"id":"541744693fcf409c","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1610,"y":780,"wires":[["b634c5a581f30649"]]},{"id":"b634c5a581f30649","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1700,"y":780,"wires":[["c40e2061a6a970cb"]]},{"id":"0104bce3fa12b855","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"NIGHT LAMP","tooltip":"","group":"0b41ee351a396b17","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1380,"y":820,"wires":[["c9661c7bb6412119"]]},{"id":"c9661c7bb6412119","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1540,"y":820,"wires":[["f637912506e874d7"]]},{"id":"f637912506e874d7","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1670,"y":820,"wires":[["8281f91fe06dd992"]]},{"id":"8281f91fe06dd992","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":820,"wires":[["c40e2061a6a970cb"]]},{"id":"cf480012a6eedf20","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"0b41ee351a396b17","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":860,"wires":[["1edefa3d1e00d2cb"]]},{"id":"1edefa3d1e00d2cb","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":860,"wires":[["e73cf28a72d6f972"]]},{"id":"e73cf28a72d6f972","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":860,"wires":[["4db2771e7ec1b2a4"]]},{"id":"4db2771e7ec1b2a4","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":860,"wires":[["c40e2061a6a970cb"]]},{"id":"a8f74caef5ae2530","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"0b41ee351a396b17","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":900,"wires":[["c17ba5d1ddbad088"]]},{"id":"c17ba5d1ddbad088","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":900,"wires":[["44f61c4a53e7b77f"]]},{"id":"44f61c4a53e7b77f","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":900,"wires":[["8cbbad28f1508968"]]},{"id":"8cbbad28f1508968","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":900,"wires":[["c40e2061a6a970cb"]]},{"id":"26b117369d7a218f","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"0b41ee351a396b17","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":940,"wires":[["3c82a7919d900d6c"]]},{"id":"3c82a7919d900d6c","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":940,"wires":[["431be4943ff905e5"]]},{"id":"431be4943ff905e5","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":940,"wires":[["86dc19e12dbebe19"]]},{"id":"86dc19e12dbebe19","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":940,"wires":[["c40e2061a6a970cb"]]},{"id":"2bd9b7256df8a845","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"BULB","tooltip":"","group":"9af2f60aafbcdd9d","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1020,"wires":[["a7f43a53d52be0d3"]]},{"id":"a7f43a53d52be0d3","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":1020,"wires":[["970b8948c9a95fc9"]]},{"id":"970b8948c9a95fc9","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":1020,"wires":[["baedc42b275a53a3"]]},{"id":"baedc42b275a53a3","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=6;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":1020,"wires":[["c40e2061a6a970cb"]]},{"id":"cc8743058f905e48","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"GYSER","tooltip":"","group":"9af2f60aafbcdd9d","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1360,"y":1060,"wires":[["c735960aa8590cde"]]},{"id":"c735960aa8590cde","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":1060,"wires":[["eefc488cd5735158"]]},{"id":"eefc488cd5735158","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":1060,"wires":[["8341d8f54257edfa"]]},{"id":"8341d8f54257edfa","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":1060,"wires":[["c40e2061a6a970cb"]]},{"id":"c16b065916be6316","type":"comment","z":"c9abc510b829be32","name":"BATHROOM","info":"","x":1390,"y":980,"wires":[]},{"id":"f0e4d57aff28f0cd","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"74cf49f767cefb27","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1160,"wires":[["bc2baac8b7652bac"]]},{"id":"bc2baac8b7652bac","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":1160,"wires":[["6117531860ce0668"]]},{"id":"6117531860ce0668","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":1160,"wires":[["c5a18ae364de1076"]]},{"id":"c5a18ae364de1076","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1160,"wires":[["706458f0906104fd"]]},{"id":"88897e02283d36f1","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"74cf49f767cefb27","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1200,"wires":[["9125048625d696d3"]]},{"id":"9125048625d696d3","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":1200,"wires":[["d5fcfa85231fbfb4"]]},{"id":"d5fcfa85231fbfb4","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":1200,"wires":[["f23a88dcd8438a74"]]},{"id":"f23a88dcd8438a74","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1200,"wires":[["706458f0906104fd"]]},{"id":"c442e308f5823b65","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"74cf49f767cefb27","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1240,"wires":[["fa40b3aebc1b102e"]]},{"id":"fa40b3aebc1b102e","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":1240,"wires":[["6a49c68137ef1dce"]]},{"id":"6a49c68137ef1dce","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":1240,"wires":[["bfaf2df940c96115"]]},{"id":"bfaf2df940c96115","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1240,"wires":[["706458f0906104fd"]]},{"id":"75709054ed1a5298","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"TV","tooltip":"","group":"74cf49f767cefb27","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1280,"wires":[["ac8f7a27b857cd23"]]},{"id":"ac8f7a27b857cd23","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":1280,"wires":[["1682a7395d3e27d3"]]},{"id":"1682a7395d3e27d3","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":1280,"wires":[["9da8ae372c3e9121"]]},{"id":"9da8ae372c3e9121","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=50;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1280,"wires":[["706458f0906104fd"]]},{"id":"48d5d0703341f44b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"DOOR BELL","tooltip":"","group":"74cf49f767cefb27","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":1320,"wires":[["cacf25ed633bf1ae"]]},{"id":"cacf25ed633bf1ae","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1540,"y":1320,"wires":[["e94dce481af5e3b2"]]},{"id":"e94dce481af5e3b2","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1690,"y":1320,"wires":[["2270e14fd946a2c7"]]},{"id":"2270e14fd946a2c7","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1800,"y":1320,"wires":[["706458f0906104fd"]]},{"id":"3f6c6fd4994ec930","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"74cf49f767cefb27","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1360,"wires":[["c1b7db9c4e440153"]]},{"id":"c1b7db9c4e440153","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":1360,"wires":[["e4806b5f8e9ee0fb"]]},{"id":"e4806b5f8e9ee0fb","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":1360,"wires":[["78b5619b6a87f182"]]},{"id":"78b5619b6a87f182","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1430;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1360,"wires":[["706458f0906104fd"]]},{"id":"6ef3ba2d8d79817d","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"74cf49f767cefb27","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":1400,"wires":[["7505b4d52ae93533"]]},{"id":"7505b4d52ae93533","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1540,"y":1400,"wires":[["519b9ce9182473ad"]]},{"id":"519b9ce9182473ad","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1670,"y":1400,"wires":[["510739a64fb5d17f"]]},{"id":"510739a64fb5d17f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":1400,"wires":[["706458f0906104fd"]]},{"id":"263428c55b62ffc6","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"74cf49f767cefb27","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1370,"y":1440,"wires":[["25ccc9f9d87030e0"]]},{"id":"25ccc9f9d87030e0","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1540,"y":1440,"wires":[["37d82b56d9fa4bb7"]]},{"id":"37d82b56d9fa4bb7","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1690,"y":1440,"wires":[["0da7fabc86a89404"]]},{"id":"0da7fabc86a89404","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1800,"y":1440,"wires":[["706458f0906104fd"]]},{"id":"c207bde9a1e251d5","type":"comment","z":"c9abc510b829be32","name":"HALL","info":"","x":1470,"y":1120,"wires":[]},{"id":"541d4b8ad50ccd22","type":"comment","z":"c9abc510b829be32","name":"KITCHEN","info":"","x":1360,"y":1500,"wires":[]},{"id":"115bbc9fb97ea55b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"c44c7164d6a5d074","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1540,"wires":[["8c7c9c316ded1595"]]},{"id":"8c7c9c316ded1595","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":1540,"wires":[["eac235bde7bc48c4"]]},{"id":"eac235bde7bc48c4","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":1540,"wires":[["56de5109851aaed6"]]},{"id":"56de5109851aaed6","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1540,"wires":[["706458f0906104fd"]]},{"id":"31b1e250957ef476","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FRIDGE","tooltip":"","group":"c44c7164d6a5d074","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1360,"y":1580,"wires":[["5c9e54a837a0b178"]]},{"id":"5c9e54a837a0b178","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":1580,"wires":[["5351dc88cc79129b"]]},{"id":"5351dc88cc79129b","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":1580,"wires":[["32cf024a39a0f712"]]},{"id":"32cf024a39a0f712","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=20;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1580,"wires":[["706458f0906104fd"]]},{"id":"f83f11ab9b6b47b3","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"CHIMNEY","tooltip":"","group":"c44c7164d6a5d074","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1620,"wires":[["800518158b6b40bf"]]},{"id":"800518158b6b40bf","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":1620,"wires":[["350193e2f5b2fe01"]]},{"id":"350193e2f5b2fe01","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":1620,"wires":[["17ea4d3db7a9c882"]]},{"id":"17ea4d3db7a9c882","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=100;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1760,"y":1620,"wires":[["706458f0906104fd"]]},{"id":"66e4d0804a30c548","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"EXHAUST","tooltip":"","group":"c44c7164d6a5d074","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1660,"wires":[["ca2363cff80f4eac"]]},{"id":"ca2363cff80f4eac","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":1660,"wires":[["a532669f6ac1293a"]]},{"id":"a532669f6ac1293a","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1670,"y":1660,"wires":[["be702b829f935fd7"]]},{"id":"be702b829f935fd7","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1780,"y":1660,"wires":[["706458f0906104fd"]]},{"id":"5d0b8dc5b01ec2df","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"MICROWAVE","tooltip":"","group":"c44c7164d6a5d074","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1340,"y":1700,"wires":[["e3067bbe15a70d50"]]},{"id":"e3067bbe15a70d50","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":1700,"wires":[["65f7a458eb284b6a"]]},{"id":"65f7a458eb284b6a","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":1700,"wires":[["4decde9a1ba6574c"]]},{"id":"4decde9a1ba6574c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1700,"wires":[["706458f0906104fd"]]},{"id":"9516d538677e6c7c","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"c44c7164d6a5d074","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1330,"y":1740,"wires":[["01e9000c5eee36a2"]]},{"id":"01e9000c5eee36a2","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":1740,"wires":[["802abc1b164c23ba"]]},{"id":"802abc1b164c23ba","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1610,"y":1740,"wires":[["259746f7110fde36"]]},{"id":"259746f7110fde36","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1720,"y":1740,"wires":[["706458f0906104fd"]]},{"id":"1ff3970e54bcca19","type":"comment","z":"c9abc510b829be32","name":"ROOM","info":"","x":1330,"y":1780,"wires":[]},{"id":"77a9b41a727059d3","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"a0b46ffa94484c2b","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1330,"y":1820,"wires":[["f0908cbcbd53c064"]]},{"id":"f0908cbcbd53c064","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":1820,"wires":[["639a93309d6de090"]]},{"id":"639a93309d6de090","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":1820,"wires":[["4ca7f173286dd84b"]]},{"id":"4ca7f173286dd84b","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1720,"y":1820,"wires":[["706458f0906104fd"]]},{"id":"e7294693a2ef8274","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"a0b46ffa94484c2b","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1330,"y":1860,"wires":[["7e36e4f66a4af789"]]},{"id":"7e36e4f66a4af789","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1460,"y":1860,"wires":[["893a9a6a67cc18b4"]]},{"id":"893a9a6a67cc18b4","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1590,"y":1860,"wires":[["656e767a858f5af7"]]},{"id":"656e767a858f5af7","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1680,"y":1860,"wires":[["706458f0906104fd"]]},{"id":"ea713adf2a779a3b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"NIGHT LAMP","tooltip":"","group":"a0b46ffa94484c2b","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1360,"y":1900,"wires":[["18d373fabee770ab"]]},{"id":"18d373fabee770ab","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1520,"y":1900,"wires":[["cb6f6a6575e26c29"]]},{"id":"cb6f6a6575e26c29","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1650,"y":1900,"wires":[["ad53bb140221cff4"]]},{"id":"ad53bb140221cff4","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":1900,"wires":[["706458f0906104fd"]]},{"id":"26d12882d4e6ee87","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"a0b46ffa94484c2b","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1940,"wires":[["f4b8330f7f2c4d10"]]},{"id":"f4b8330f7f2c4d10","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":1940,"wires":[["26db88043fa8e1b1"]]},{"id":"26db88043fa8e1b1","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1610,"y":1940,"wires":[["edfdbdce19883c8f"]]},{"id":"edfdbdce19883c8f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1720,"y":1940,"wires":[["706458f0906104fd"]]},{"id":"c0a89dcc91b645b9","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"a0b46ffa94484c2b","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":1980,"wires":[["c376297841479bb7"]]},{"id":"c376297841479bb7","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":1980,"wires":[["e909635b703d21d5"]]},{"id":"e909635b703d21d5","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":1980,"wires":[["a8a78406732891f3"]]},{"id":"a8a78406732891f3","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1720,"y":1980,"wires":[["706458f0906104fd"]]},{"id":"43f169f07c8ecfdf","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"a0b46ffa94484c2b","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1350,"y":2020,"wires":[["0e257ad707f44904"]]},{"id":"0e257ad707f44904","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1500,"y":2020,"wires":[["93aa1d96ffae8dbe"]]},{"id":"93aa1d96ffae8dbe","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":2020,"wires":[["022acf3ac3d0566c"]]},{"id":"022acf3ac3d0566c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":2020,"wires":[["706458f0906104fd"]]},{"id":"42b0fe5e66ca1531","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"BULB","tooltip":"","group":"ed2ae3468d22061a","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1330,"y":2100,"wires":[["618c9af0433d638f"]]},{"id":"618c9af0433d638f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":2100,"wires":[["79e7553425c1b958"]]},{"id":"79e7553425c1b958","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":2100,"wires":[["065d98e5e98e704f"]]},{"id":"065d98e5e98e704f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=6;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":2100,"wires":[["706458f0906104fd"]]},{"id":"6ebe41c0650e2355","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"GYSER","tooltip":"","group":"ed2ae3468d22061a","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":1340,"y":2140,"wires":[["c4de38aeefd80bbe"]]},{"id":"c4de38aeefd80bbe","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":1480,"y":2140,"wires":[["35fa85328b16622b"]]},{"id":"35fa85328b16622b","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":1630,"y":2140,"wires":[["f667d3a6d6df3ae9"]]},{"id":"f667d3a6d6df3ae9","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1740,"y":2140,"wires":[["706458f0906104fd"]]},{"id":"f8581418808d64f7","type":"comment","z":"c9abc510b829be32","name":"BATHROOM","info":"","x":1370,"y":2060,"wires":[]},{"id":"632b1bab80b54cc2","type":"comment","z":"c9abc510b829be32","name":"FLAT 4","info":"","x":1350,"y":1120,"wires":[]},{"id":"fb36e0bf80357f4c","type":"join","z":"c9abc510b829be32","name":"string array","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2150,"y":600,"wires":[["3955ad67ef760937"]]},{"id":"c40e2061a6a970cb","type":"json","z":"c9abc510b829be32","name":"obj to string","property":"payload","action":"","pretty":false,"x":2110,"y":520,"wires":[["fb36e0bf80357f4c"]]},{"id":"3955ad67ef760937","type":"function","z":"c9abc510b829be32","name":"total load in watt hr","func":"var inp=msg.payload;\nvar load=flow.get('load')||0;\nfor(var i=0;i<inp.length;i++)\n{\n    load+=parseInt(inp[i]);\n}\nflow.set('load',load);\nmsg.payload=parseFloat(load/(1000*60*60));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3050,"y":1040,"wires":[["a2a7a2e34e6047d3"]]},{"id":"7fb87c6b9a267dc5","type":"join","z":"c9abc510b829be32","name":"string array","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2090,"y":1220,"wires":[["fd268b0c20c873e7"]]},{"id":"706458f0906104fd","type":"json","z":"c9abc510b829be32","name":"obj to string","property":"payload","action":"","pretty":false,"x":2070,"y":1320,"wires":[["7fb87c6b9a267dc5"]]},{"id":"fd268b0c20c873e7","type":"function","z":"c9abc510b829be32","name":"total load in kwatt hr","func":"var inp=msg.payload;\nvar load=flow.get('load')||0;\nfor(var i=0;i<inp.length;i++)\n{\n    load+=parseInt(inp[i]);\n}\nflow.set('load',load);\nmsg.payload=parseFloat(load/(1000*60*60));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3060,"y":1080,"wires":[["a2a7a2e34e6047d3"]]},{"id":"0488ca32bcc79f76","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"c8cbe6b65a841734","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":80,"wires":[["2b846d49bd885d81"]]},{"id":"2b846d49bd885d81","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":80,"wires":[["a6c8d6a3a3541416"]]},{"id":"a6c8d6a3a3541416","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":80,"wires":[["5074125f2f74b967"]]},{"id":"5074125f2f74b967","type":"function","z":"c9abc510b829be32","name":"device's watt sec","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2750,"y":80,"wires":[["79b348bbfac6f320"]]},{"id":"e1ff0a4fcd433859","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"c8cbe6b65a841734","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":120,"wires":[["6a63d3e3a55b7581"]]},{"id":"6a63d3e3a55b7581","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":120,"wires":[["83a5ee419293f94c"]]},{"id":"83a5ee419293f94c","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":120,"wires":[["b0db0e9edae1da11"]]},{"id":"b0db0e9edae1da11","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":120,"wires":[["79b348bbfac6f320"]]},{"id":"69fba044a864588e","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"c8cbe6b65a841734","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":160,"wires":[["e5a62e2e4be899bf"]]},{"id":"e5a62e2e4be899bf","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2460,"y":160,"wires":[["140b06152e4936f1"]]},{"id":"140b06152e4936f1","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":160,"wires":[["1555b7527d75491b"]]},{"id":"1555b7527d75491b","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":160,"wires":[["79b348bbfac6f320"]]},{"id":"a73d698738cf9547","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"TV","tooltip":"","group":"c8cbe6b65a841734","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":200,"wires":[["710ccaeea194cad1"]]},{"id":"710ccaeea194cad1","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":200,"wires":[["602608711910a05d"]]},{"id":"602608711910a05d","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":200,"wires":[["f6e001d89f4ee8ee"]]},{"id":"f6e001d89f4ee8ee","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=50;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":200,"wires":[["79b348bbfac6f320"]]},{"id":"806baf8dcd6f205a","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"DOOR BELL","tooltip":"","group":"c8cbe6b65a841734","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2330,"y":240,"wires":[["aaf0de5555826766"]]},{"id":"aaf0de5555826766","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2500,"y":240,"wires":[["64b6032d095a01d5"]]},{"id":"64b6032d095a01d5","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2650,"y":240,"wires":[["96e0cb9707f3c0e8"]]},{"id":"96e0cb9707f3c0e8","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2760,"y":240,"wires":[["79b348bbfac6f320"]]},{"id":"77367d28d01e0b4e","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"c8cbe6b65a841734","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":280,"wires":[["d68e6354f3cc1b7f"]]},{"id":"d68e6354f3cc1b7f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":280,"wires":[["c3295c12a601e0f5"]]},{"id":"c3295c12a601e0f5","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":280,"wires":[["4d371f56998a4764"]]},{"id":"4d371f56998a4764","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1430;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":280,"wires":[["79b348bbfac6f320"]]},{"id":"7704303ea03ecf10","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"c8cbe6b65a841734","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2330,"y":320,"wires":[["1a655ece780e2841"]]},{"id":"1a655ece780e2841","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2500,"y":320,"wires":[["ebd8f95031c7c2b1"]]},{"id":"ebd8f95031c7c2b1","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2630,"y":320,"wires":[["55b031cd56be7906"]]},{"id":"55b031cd56be7906","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2720,"y":320,"wires":[["79b348bbfac6f320"]]},{"id":"e25548b2e42a0808","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"c8cbe6b65a841734","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2330,"y":360,"wires":[["a41bfa67fed65e50"]]},{"id":"a41bfa67fed65e50","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2500,"y":360,"wires":[["584052fcf029da71"]]},{"id":"584052fcf029da71","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2650,"y":360,"wires":[["b108fee59b75f685"]]},{"id":"b108fee59b75f685","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2760,"y":360,"wires":[["79b348bbfac6f320"]]},{"id":"3223e76c23720914","type":"comment","z":"c9abc510b829be32","name":"KITCHEN","info":"","x":2320,"y":420,"wires":[]},{"id":"5b69d6cd8be498ce","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"4dd61a009687ade5","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":460,"wires":[["0a75ad9dec4a279f"]]},{"id":"0a75ad9dec4a279f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2460,"y":460,"wires":[["1b3afa36dc930798"]]},{"id":"1b3afa36dc930798","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":460,"wires":[["e36b779af5ecaaa1"]]},{"id":"e36b779af5ecaaa1","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":460,"wires":[["79b348bbfac6f320"]]},{"id":"e304951220d455bd","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FRIDGE","tooltip":"","group":"4dd61a009687ade5","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2320,"y":500,"wires":[["d62b7603fcbd37f3"]]},{"id":"d62b7603fcbd37f3","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2460,"y":500,"wires":[["782f2e1a9cc9d333"]]},{"id":"782f2e1a9cc9d333","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2610,"y":500,"wires":[["3ea533d8bc82a7f9"]]},{"id":"3ea533d8bc82a7f9","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=20;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":500,"wires":[["79b348bbfac6f320"]]},{"id":"81aa9b30a0b9ab08","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"CHIMNEY","tooltip":"","group":"4dd61a009687ade5","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":540,"wires":[["95e04fb3c2d3379b"]]},{"id":"95e04fb3c2d3379b","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2460,"y":540,"wires":[["61abc1a61e716339"]]},{"id":"61abc1a61e716339","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2610,"y":540,"wires":[["b378f20368d47b0e"]]},{"id":"b378f20368d47b0e","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=100;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2720,"y":540,"wires":[["79b348bbfac6f320"]]},{"id":"859751232be9c7c9","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"EXHAUST","tooltip":"","group":"4dd61a009687ade5","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":580,"wires":[["02236fc1dc9c01de"]]},{"id":"02236fc1dc9c01de","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2480,"y":580,"wires":[["555b38d4d28f9d75"]]},{"id":"555b38d4d28f9d75","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2630,"y":580,"wires":[["ad69910d0ad09e4f"]]},{"id":"ad69910d0ad09e4f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2740,"y":580,"wires":[["79b348bbfac6f320"]]},{"id":"ff2c217336458656","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"MICROWAVE","tooltip":"","group":"4dd61a009687ade5","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2300,"y":620,"wires":[["6bb816dfaa0b3916"]]},{"id":"6bb816dfaa0b3916","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2460,"y":620,"wires":[["ecd65da2bbd1cffa"]]},{"id":"ecd65da2bbd1cffa","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2610,"y":620,"wires":[["92b1b9c3a6f26277"]]},{"id":"92b1b9c3a6f26277","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":620,"wires":[["79b348bbfac6f320"]]},{"id":"e90bf02ab2d2edd9","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"4dd61a009687ade5","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2290,"y":660,"wires":[["3abc683c4d8a0c36"]]},{"id":"3abc683c4d8a0c36","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":660,"wires":[["aa9977b662d93119"]]},{"id":"aa9977b662d93119","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2570,"y":660,"wires":[["1c0f5556a2f5b49f"]]},{"id":"1c0f5556a2f5b49f","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2680,"y":660,"wires":[["79b348bbfac6f320"]]},{"id":"e73834619a839f22","type":"comment","z":"c9abc510b829be32","name":"ROOM","info":"","x":2290,"y":700,"wires":[]},{"id":"d68635a1a4b4802f","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"6b83965e79c59d05","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2290,"y":740,"wires":[["f376772ffe86f6ea"]]},{"id":"f376772ffe86f6ea","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":740,"wires":[["a4f6d9147b0b062e"]]},{"id":"a4f6d9147b0b062e","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":740,"wires":[["b4ee3d499994d8f6"]]},{"id":"b4ee3d499994d8f6","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2680,"y":740,"wires":[["79b348bbfac6f320"]]},{"id":"be4c9cd14965a4e3","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"6b83965e79c59d05","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2290,"y":780,"wires":[["70bd052ad81c30f0"]]},{"id":"70bd052ad81c30f0","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2420,"y":780,"wires":[["13fa6b00d3162bb1"]]},{"id":"13fa6b00d3162bb1","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2550,"y":780,"wires":[["7f2c5961caf216e6"]]},{"id":"7f2c5961caf216e6","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2640,"y":780,"wires":[["79b348bbfac6f320"]]},{"id":"d60e83f522660b1f","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"NIGHT LAMP","tooltip":"","group":"6b83965e79c59d05","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2320,"y":820,"wires":[["389f4ca5a5fd3d19"]]},{"id":"389f4ca5a5fd3d19","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2480,"y":820,"wires":[["6183541fb74fa4dc"]]},{"id":"6183541fb74fa4dc","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2610,"y":820,"wires":[["b6fd544fe998f278"]]},{"id":"b6fd544fe998f278","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":820,"wires":[["79b348bbfac6f320"]]},{"id":"fbe4b1fa20456562","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"AC","tooltip":"","group":"6b83965e79c59d05","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":860,"wires":[["6aab0f29123bd490"]]},{"id":"6aab0f29123bd490","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":860,"wires":[["3fe8e2772b79c33c"]]},{"id":"3fe8e2772b79c33c","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2570,"y":860,"wires":[["9a5f5c75e5228cb6"]]},{"id":"9a5f5c75e5228cb6","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2680,"y":860,"wires":[["79b348bbfac6f320"]]},{"id":"16c8a50c43074c2f","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 1","tooltip":"","group":"6b83965e79c59d05","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":900,"wires":[["0eec6dd9411d4906"]]},{"id":"0eec6dd9411d4906","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2460,"y":900,"wires":[["3b70f75f6ecf1a51"]]},{"id":"3b70f75f6ecf1a51","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":900,"wires":[["acf0f89f672a6630"]]},{"id":"acf0f89f672a6630","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2680,"y":900,"wires":[["79b348bbfac6f320"]]},{"id":"979b382bbbda2cde","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"SOCKET 2","tooltip":"","group":"6b83965e79c59d05","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2310,"y":940,"wires":[["4414c0b17bfd707c"]]},{"id":"4414c0b17bfd707c","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2460,"y":940,"wires":[["d6c755422d29cb48"]]},{"id":"d6c755422d29cb48","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":940,"wires":[["13e6351033a56bd7"]]},{"id":"13e6351033a56bd7","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1500;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":940,"wires":[["79b348bbfac6f320"]]},{"id":"31a51a5e85eb8175","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"BULB","tooltip":"","group":"d9f2f9a0fe76ab16","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2290,"y":1020,"wires":[["7a8b627de1ad5b1f"]]},{"id":"7a8b627de1ad5b1f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":1020,"wires":[["33f4ed4b0b0f2035"]]},{"id":"33f4ed4b0b0f2035","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":1020,"wires":[["fcb3f181279cabba"]]},{"id":"fcb3f181279cabba","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=6;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":1020,"wires":[["79b348bbfac6f320"]]},{"id":"e7796113bd0404d3","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"GYSER","tooltip":"","group":"d9f2f9a0fe76ab16","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2300,"y":1060,"wires":[["1d1aae85eff59fe8"]]},{"id":"1d1aae85eff59fe8","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2440,"y":1060,"wires":[["f69783dd8451f0ab"]]},{"id":"f69783dd8451f0ab","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2590,"y":1060,"wires":[["7c6b0b11b71cddef"]]},{"id":"7c6b0b11b71cddef","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=2000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2700,"y":1060,"wires":[["79b348bbfac6f320"]]},{"id":"8462772b76c7465f","type":"comment","z":"c9abc510b829be32","name":"BATHROOM","info":"","x":2330,"y":980,"wires":[]},{"id":"b270aeb8d10faaef","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"84f9a7c9fb746aaa","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2270,"y":1180,"wires":[["5c57a40b98d30362"]]},{"id":"5c57a40b98d30362","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2400,"y":1180,"wires":[["43a5fd00c0a387af"]]},{"id":"43a5fd00c0a387af","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2550,"y":1180,"wires":[["32a87ff485e428f0"]]},{"id":"32a87ff485e428f0","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2660,"y":1180,"wires":[["28d1730e9bafcc5f"]]},{"id":"66357b24fcb40ece","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"84f9a7c9fb746aaa","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2270,"y":1220,"wires":[["4a1279090d77cba9"]]},{"id":"4a1279090d77cba9","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2400,"y":1220,"wires":[["f0983827d8ec6e18"]]},{"id":"f0983827d8ec6e18","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2550,"y":1220,"wires":[["1a2bd0b53646cf4d"]]},{"id":"1a2bd0b53646cf4d","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2660,"y":1220,"wires":[["28d1730e9bafcc5f"]]},{"id":"65caee425e1f86e9","type":"comment","z":"c9abc510b829be32","name":"RECEPTION","info":"","x":2230,"y":1400,"wires":[]},{"id":"5af40648f50bcdb0","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"529f23325c323afb","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2210,"y":1440,"wires":[["dee805f885e1025c"]]},{"id":"dee805f885e1025c","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2360,"y":1440,"wires":[["c820456366cdda62"]]},{"id":"c820456366cdda62","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2490,"y":1440,"wires":[["c0108dc5766e289a"]]},{"id":"c0108dc5766e289a","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2600,"y":1440,"wires":[["28d1730e9bafcc5f"]]},{"id":"77a7bec1c9308c41","type":"comment","z":"c9abc510b829be32","name":"TERRACE","info":"","x":2200,"y":1580,"wires":[]},{"id":"83bf4952facee68e","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"eaddb410e9f5c0a1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2190,"y":1620,"wires":[["2fbff40c326e524d"]]},{"id":"2fbff40c326e524d","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2340,"y":1620,"wires":[["be3026adcd20ea58"]]},{"id":"be3026adcd20ea58","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2490,"y":1620,"wires":[["f4b791b36d522481"]]},{"id":"f4b791b36d522481","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2580,"y":1620,"wires":[["28d1730e9bafcc5f"]]},{"id":"3d2da01643636fb1","type":"comment","z":"c9abc510b829be32","name":"STAIRS","info":"","x":2130,"y":1840,"wires":[]},{"id":"a5829316a63fcc3c","type":"comment","z":"c9abc510b829be32","name":"GROUND FLOOR","info":"","x":2310,"y":1140,"wires":[]},{"id":"45ced69edef50097","type":"join","z":"c9abc510b829be32","name":"string array","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3090,"y":600,"wires":[["16fb5afdba591f8a"]]},{"id":"79b348bbfac6f320","type":"json","z":"c9abc510b829be32","name":"obj to string","property":"payload","action":"","pretty":false,"x":3050,"y":520,"wires":[["45ced69edef50097"]]},{"id":"16fb5afdba591f8a","type":"function","z":"c9abc510b829be32","name":"total load in kwatt hr","func":"var inp=msg.payload;\nvar load=flow.get('load')||0;\nfor(var i=0;i<inp.length;i++)\n{\n    load+=parseInt(inp[i]);\n}\nflow.set('load',load);\nmsg.payload=parseFloat(load/(1000*60*60));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3060,"y":1120,"wires":[["a2a7a2e34e6047d3"]]},{"id":"eab776a9a9d89815","type":"join","z":"c9abc510b829be32","name":"string array","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3130,"y":1620,"wires":[["1f58d3db3d7a2633"]]},{"id":"28d1730e9bafcc5f","type":"json","z":"c9abc510b829be32","name":"obj to string","property":"payload","action":"","pretty":false,"x":3090,"y":1540,"wires":[["eab776a9a9d89815"]]},{"id":"1f58d3db3d7a2633","type":"function","z":"c9abc510b829be32","name":"total load in kwatt hr","func":"var inp=msg.payload;\nvar load=flow.get('load')||0;\nfor(var i=0;i<inp.length;i++)\n{\n    load+=parseInt(inp[i]);\n}\nflow.set('load',load);\nmsg.payload=parseFloat(load/(1000*60*60));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3080,"y":1160,"wires":[["a2a7a2e34e6047d3"]]},{"id":"e1a5a0199087e824","type":"comment","z":"c9abc510b829be32","name":"FLAT 5","info":"","x":2310,"y":20,"wires":[]},{"id":"404168537e426776","type":"comment","z":"c9abc510b829be32","name":"HALL","info":"","x":2470,"y":20,"wires":[]},{"id":"4b0b60eeb7c42e1e","type":"comment","z":"c9abc510b829be32","name":"PARKING & ENTRANCE","info":"","x":2530,"y":1140,"wires":[]},{"id":"abc19d6dd5064293","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 3","tooltip":"","group":"84f9a7c9fb746aaa","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2270,"y":1260,"wires":[["a21d18454f1c4e15"]]},{"id":"a21d18454f1c4e15","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2400,"y":1260,"wires":[["ee4d628a5df30bba"]]},{"id":"ee4d628a5df30bba","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2550,"y":1260,"wires":[["ae29252427ee991e"]]},{"id":"ae29252427ee991e","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2660,"y":1260,"wires":[["28d1730e9bafcc5f"]]},{"id":"abcc185c1bf925b4","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 4","tooltip":"","group":"84f9a7c9fb746aaa","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2270,"y":1300,"wires":[["c64ff40488e27a81"]]},{"id":"c64ff40488e27a81","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2400,"y":1300,"wires":[["688c8ec21caed95b"]]},{"id":"688c8ec21caed95b","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2550,"y":1300,"wires":[["633226973c8ec76c"]]},{"id":"633226973c8ec76c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2660,"y":1300,"wires":[["28d1730e9bafcc5f"]]},{"id":"e599da7d839a2d1a","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 5","tooltip":"","group":"84f9a7c9fb746aaa","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2290,"y":1340,"wires":[["7df5c7361a2dd3cd"]]},{"id":"7df5c7361a2dd3cd","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2420,"y":1340,"wires":[["7575e79d8ac02a4f"]]},{"id":"7575e79d8ac02a4f","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2570,"y":1340,"wires":[["4dd9d0f9d24a4932"]]},{"id":"4dd9d0f9d24a4932","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2680,"y":1340,"wires":[["28d1730e9bafcc5f"]]},{"id":"e04a8e845e243b19","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"FAN","tooltip":"","group":"529f23325c323afb","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2210,"y":1480,"wires":[["dd6f9bb4370246e4"]]},{"id":"dd6f9bb4370246e4","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2360,"y":1480,"wires":[["403fd51e093e36f6"]]},{"id":"403fd51e093e36f6","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2490,"y":1480,"wires":[["724f5515deb82815"]]},{"id":"724f5515deb82815","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=30;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2600,"y":1480,"wires":[["28d1730e9bafcc5f"]]},{"id":"3e9f522f555d0884","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"PC","tooltip":"","group":"529f23325c323afb","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2210,"y":1520,"wires":[["87c9bee2a540c3d7"]]},{"id":"87c9bee2a540c3d7","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2340,"y":1520,"wires":[["131e5d4a3521073a"]]},{"id":"131e5d4a3521073a","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2490,"y":1520,"wires":[["2fdb7f47b97857b7"]]},{"id":"2fdb7f47b97857b7","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=250;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2600,"y":1520,"wires":[["28d1730e9bafcc5f"]]},{"id":"b7398209e4abdc4a","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"eaddb410e9f5c0a1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2190,"y":1660,"wires":[["916c7f03ad58150b"]]},{"id":"916c7f03ad58150b","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2340,"y":1660,"wires":[["76cea386f62799a7"]]},{"id":"76cea386f62799a7","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2490,"y":1660,"wires":[["dc2bc54fcfeac06a"]]},{"id":"dc2bc54fcfeac06a","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2580,"y":1660,"wires":[["28d1730e9bafcc5f"]]},{"id":"e9b46278be2a533c","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"MONITOR","tooltip":"","group":"eaddb410e9f5c0a1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2190,"y":1700,"wires":[["97c57d1f9cab2a1f"]]},{"id":"97c57d1f9cab2a1f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2300,"y":1700,"wires":[["99054adc2d7ba7ce"]]},{"id":"99054adc2d7ba7ce","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2450,"y":1700,"wires":[["f0d1e8e3d58c4d43"]]},{"id":"f0d1e8e3d58c4d43","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=35;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2560,"y":1700,"wires":[["28d1730e9bafcc5f"]]},{"id":"6fc4a2ca80bb7662","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"MONITOR","tooltip":"","group":"eaddb410e9f5c0a1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2210,"y":1740,"wires":[["f5b7af94462ebd4d"]]},{"id":"f5b7af94462ebd4d","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2320,"y":1740,"wires":[["820bcab95138934b"]]},{"id":"820bcab95138934b","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2470,"y":1740,"wires":[["c79536c9ab6a6546"]]},{"id":"c79536c9ab6a6546","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=35;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2580,"y":1740,"wires":[["28d1730e9bafcc5f"]]},{"id":"26b3d3fc2b89a97a","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"ROUTER","tooltip":"","group":"eaddb410e9f5c0a1","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2200,"y":1780,"wires":[["ba140b2f7cd1a821"]]},{"id":"ba140b2f7cd1a821","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2320,"y":1780,"wires":[["1f37c753406c179e"]]},{"id":"1f37c753406c179e","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2470,"y":1780,"wires":[["85cceea5327a6ad1"]]},{"id":"85cceea5327a6ad1","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=6;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2580,"y":1780,"wires":[["28d1730e9bafcc5f"]]},{"id":"2f1cf7a06d66852d","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"9af80d7998736881","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2170,"y":1880,"wires":[["99b60fe49e2f9f37"]]},{"id":"99b60fe49e2f9f37","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2300,"y":1880,"wires":[["94c679d1fd53060b"]]},{"id":"94c679d1fd53060b","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2450,"y":1880,"wires":[["9c9e5c9bd2d3c29c"]]},{"id":"9c9e5c9bd2d3c29c","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2560,"y":1880,"wires":[["28d1730e9bafcc5f"]]},{"id":"9bc27fa1dc81ca39","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"9af80d7998736881","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2170,"y":1920,"wires":[["dcd3a74635e9f4e9"]]},{"id":"dcd3a74635e9f4e9","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2300,"y":1920,"wires":[["395ba7c5a9970ce9"]]},{"id":"395ba7c5a9970ce9","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2450,"y":1920,"wires":[["9209d8fcb080a87e"]]},{"id":"9209d8fcb080a87e","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2560,"y":1920,"wires":[["28d1730e9bafcc5f"]]},{"id":"8b858b9b0cad7827","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 3","tooltip":"","group":"9af80d7998736881","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2170,"y":1960,"wires":[["5fec723bcdd0e3fd"]]},{"id":"5fec723bcdd0e3fd","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2300,"y":1960,"wires":[["41f1b1c94764fd5b"]]},{"id":"41f1b1c94764fd5b","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2450,"y":1960,"wires":[["afe5ffbd3c1b5619"]]},{"id":"afe5ffbd3c1b5619","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2560,"y":1960,"wires":[["28d1730e9bafcc5f"]]},{"id":"c615d4b1a08bb899","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 4","tooltip":"","group":"9af80d7998736881","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2170,"y":2000,"wires":[["e1799166cdfb2451"]]},{"id":"e1799166cdfb2451","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2300,"y":2000,"wires":[["ab1e19b74446dbc8"]]},{"id":"ab1e19b74446dbc8","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2450,"y":2000,"wires":[["7f5df3e8692178dc"]]},{"id":"7f5df3e8692178dc","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2560,"y":2000,"wires":[["28d1730e9bafcc5f"]]},{"id":"5d4d61b19c19a017","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 5","tooltip":"","group":"9af80d7998736881","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2190,"y":2040,"wires":[["dfc9832f553a3df3"]]},{"id":"dfc9832f553a3df3","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2320,"y":2040,"wires":[["4d65d3c2edc87dd1"]]},{"id":"4d65d3c2edc87dd1","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2470,"y":2040,"wires":[["32514e767d50be75"]]},{"id":"32514e767d50be75","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2580,"y":2040,"wires":[["28d1730e9bafcc5f"]]},{"id":"36ab884e01eb49bd","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 1","tooltip":"","group":"7368d703ebc5dd9f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2770,"y":2000,"wires":[["8a90a57b8d024853"]]},{"id":"8a90a57b8d024853","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2900,"y":2000,"wires":[["4cb4beb1a8d323ea"]]},{"id":"4cb4beb1a8d323ea","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3050,"y":2000,"wires":[["c520b9ac2e9dfc55"]]},{"id":"c520b9ac2e9dfc55","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3160,"y":2000,"wires":[["28d1730e9bafcc5f"]]},{"id":"9967bd73cedc2c0b","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 2","tooltip":"","group":"7368d703ebc5dd9f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2770,"y":2040,"wires":[["e4844d0cd42fd4c5"]]},{"id":"e4844d0cd42fd4c5","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2900,"y":2040,"wires":[["5c4c3ad468f8e334"]]},{"id":"5c4c3ad468f8e334","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3050,"y":2040,"wires":[["7042ae18e131214a"]]},{"id":"7042ae18e131214a","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3160,"y":2040,"wires":[["28d1730e9bafcc5f"]]},{"id":"73d4a0e14c7dc439","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 3","tooltip":"","group":"7368d703ebc5dd9f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2770,"y":2080,"wires":[["847cf73500303790"]]},{"id":"847cf73500303790","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2900,"y":2080,"wires":[["b7a67c40b4fbb284"]]},{"id":"b7a67c40b4fbb284","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3050,"y":2080,"wires":[["90530e791022ff9b"]]},{"id":"90530e791022ff9b","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3160,"y":2080,"wires":[["28d1730e9bafcc5f"]]},{"id":"6f38e369f5235c73","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"LED 4","tooltip":"","group":"7368d703ebc5dd9f","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2770,"y":2120,"wires":[["99d5c99049891a19"]]},{"id":"99d5c99049891a19","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2900,"y":2120,"wires":[["1ddd2d78d8c10ea1"]]},{"id":"1ddd2d78d8c10ea1","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3050,"y":2120,"wires":[["f2ec2a4d249c35eb"]]},{"id":"f2ec2a4d249c35eb","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=16;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3160,"y":2120,"wires":[["28d1730e9bafcc5f"]]},{"id":"54aa2d6e4a1e70f7","type":"comment","z":"c9abc510b829be32","name":"CORRIDOR","info":"","x":2770,"y":1960,"wires":[]},{"id":"0c3db9162f2fb514","type":"comment","z":"c9abc510b829be32","name":"MISCEL.","info":"","x":2100,"y":2080,"wires":[]},{"id":"0e69c26f9467bdcf","type":"ui_switch","z":"c9abc510b829be32","name":"","label":"MISC.","tooltip":"","group":"b0b6a1030406de22","order":7,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":2190,"y":2140,"wires":[["c6a090d9182fc36f"]]},{"id":"c6a090d9182fc36f","type":"moment","z":"c9abc510b829be32","name":"","topic":"","input":"topic","inputType":"msg","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"hours","adjDir":"add","format":"ISO8601","locale":"en-US","output":"payload","outputType":"msg","outTz":"Asia/Calcutta","x":2320,"y":2140,"wires":[["7b65a5392d05a9d1"]]},{"id":"7b65a5392d05a9d1","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":2470,"y":2140,"wires":[["3fa171f61fc579a3"]]},{"id":"3fa171f61fc579a3","type":"function","z":"c9abc510b829be32","name":"","func":"var me=msg.payload;\nvar t1=me[0];\nvar datefromAPItimeStamp1 = (new Date(t1)).getTime();\nvar t2=me[1];\nvar datefromAPItimeStamp2 = (new Date(t2)).getTime();\nvar diff=Math.abs(datefromAPItimeStamp1 - datefromAPItimeStamp2);\nvar diffinsec=parseFloat(Math.round(diff / (1000)));\nvar rating=1000;\nvar wattsec=parseFloat(Math.round(rating*diffinsec));\n\nmsg.payload=wattsec;\n//msg.payload={\"ontime:\":diffinsec};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2580,"y":2140,"wires":[["28d1730e9bafcc5f"]]},{"id":"2baeeb70291a6af9","type":"function","z":"c9abc510b829be32","name":"total load of the building in kwatt-hr","func":"var o=msg.payload;\nvar loada=flow.get('loada')||0;\nfor(var i=0;i<o.length;i++)\n{\n    loada+=o[i];\n}\nflow.set('loada',loada);\nmsg.payload=loada;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3460,"y":940,"wires":[[]]},{"id":"a2a7a2e34e6047d3","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"6","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3410,"y":1060,"wires":[["2baeeb70291a6af9"]]},{"id":"7d1faf00867b557d","type":"solar power forecast","z":"c9abc510b829be32","name":"","lat":"12.8406","lon":"80.1534","tilt":"14.6","orientation":"0","altitude":"550","area":"1.83","number":"113","efficiency":"13","x":3260,"y":140,"wires":[["ad6f8ae4b6904ea6"]]},{"id":"424cf3f8d103e03f","type":"inject","z":"c9abc510b829be32","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"15","crontab":"","once":true,"onceDelay":"0.1","topic":"","payload":"","payloadType":"date","x":3070,"y":120,"wires":[["7d1faf00867b557d"]]},{"id":"02bd9f91e4dfca74","type":"ui_chart","z":"c9abc510b829be32","name":"","group":"c03d94f06c461ff7","order":1,"width":0,"height":0,"label":"Power Generation(Last 24 hrs)","chartType":"line","legend":"true","xformat":"auto","interpolate":"linear","nodata":"Processing...","dot":true,"ymin":"0","ymax":"40000 W","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#ff2600","#aec7e8","#ff7c0a","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"useDifferentColor":false,"x":3810,"y":100,"wires":[[]]},{"id":"1135510a93e3fdf5","type":"ui_gauge","z":"c9abc510b829be32","name":"","group":"022e02fd5c42da8f","order":2,"width":0,"height":0,"gtype":"gage","title":"Current Power Generated","label":"Watt","format":"{{value}}","min":0,"max":"40000","colors":["#66d6ba","#e6e600","#ff7300"],"seg1":"50","seg2":"100","x":4070,"y":240,"wires":[]},{"id":"ad6f8ae4b6904ea6","type":"function","z":"c9abc510b829be32","name":"Forecast retrieval from Object","func":"msg.payload = msg.payload.powerforecast;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3510,"y":200,"wires":[["02bd9f91e4dfca74","847df269c23fe945"]]},{"id":"847df269c23fe945","type":"function","z":"c9abc510b829be32","name":"Upto 2 point decimal","func":"msg.payload = parseFloat(msg.payload).toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3800,"y":240,"wires":[["1135510a93e3fdf5"]]},{"id":"c32a26fb884ab709","type":"join","z":"c9abc510b829be32","name":"join in array","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3490,"y":440,"wires":[["80000fb95165d549"]]},{"id":"80000fb95165d549","type":"function","z":"c9abc510b829be32","name":"from array to Object","func":"var inp=msg.payload;\nvar power=inp[0];\nvar load=inp[1];\nvar diff = power-load;\nmsg.payload={power,load,diff};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3690,"y":440,"wires":[["b3f7aeac7f62a3bd"]]},{"id":"34098f4632f61896","type":"debug","z":"c9abc510b829be32","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":4930,"y":480,"wires":[]},{"id":"b427c674b20a7c0b","type":"switch","z":"c9abc510b829be32","name":"100--L,E,G","property":"payload.diff","propertyType":"msg","rules":[{"t":"lt","v":"0","vt":"num"},{"t":"eq","v":"0","vt":"num"},{"t":"gt","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":4110,"y":680,"wires":[["36846a97fa3b9178"],["e6d03415462b5684"],["f855d11cabe50536"]]},{"id":"6c2a808e4736b93d","type":"ui_slider","z":"c9abc510b829be32","name":"Fixed Battery","label":"Charge %","tooltip":"","group":"f864c1f81634f79a","order":1,"width":0,"height":0,"passthru":true,"outs":"end","topic":"topic","topicType":"msg","min":0,"max":"100","step":"10","x":3290,"y":560,"wires":[["c53d2b309af9835b","278724ec4db12179"]]},{"id":"c53d2b309af9835b","type":"function","z":"c9abc510b829be32","name":"to Object","func":"var BatPer = msg.payload;\nmsg.payload = {BatPer};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":3460,"y":560,"wires":[["b3f7aeac7f62a3bd"]]},{"id":"278724ec4db12179","type":"ui_gauge","z":"c9abc510b829be32","name":"","group":"f864c1f81634f79a","order":3,"width":4,"height":6,"gtype":"donut","title":"Fixed Battery %","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"40","seg2":"80","x":3480,"y":620,"wires":[]},{"id":"b3f7aeac7f62a3bd","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"4","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":3650,"y":560,"wires":[["ede2770fbe35d04b"]]},{"id":"ede2770fbe35d04b","type":"switch","z":"c9abc510b829be32","name":"0% || !0% || 100%","property":"payload.BatPer","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"btwn","v":"1","vt":"num","v2":"99","v2t":"num"},{"t":"eq","v":"100","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":3830,"y":560,"wires":[["afa0710687188efa"],["ee1d62018bb20191"],["b427c674b20a7c0b"]]},{"id":"ee1d62018bb20191","type":"switch","z":"c9abc510b829be32","name":"!0--G,L,E","property":"payload.diff","propertyType":"msg","rules":[{"t":"gt","v":"0","vt":"num"},{"t":"lt","v":"0","vt":"num"},{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":4100,"y":560,"wires":[["f18572c60c013158"],["8de70d11ad389f04"],["a707c95c741f7981"]]},{"id":"afa0710687188efa","type":"switch","z":"c9abc510b829be32","name":"0--G,L,E","property":"payload.diff","propertyType":"msg","rules":[{"t":"gt","v":"0","vt":"num"},{"t":"lt","v":"0","vt":"num"},{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":4100,"y":440,"wires":[["03f139670fa28ee0"],["9396b269349c5f21"],["dcfaa0bbd0a1c1ac"]]},{"id":"29dfa7013be8b7a9","type":"ui_text","z":"c9abc510b829be32","group":"dda64d883c89c018","order":1,"width":12,"height":2,"name":"","label":"Command:- ","format":"{{msg.payload.ans}}","layout":"row-left","x":4930,"y":580,"wires":[]},{"id":"e6d03415462b5684","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Charge Extra Battery\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4280,"y":680,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"36846a97fa3b9178","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Supply power to load from fixed battery\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4280,"y":640,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"a707c95c741f7981","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Supply to building's Load\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4280,"y":600,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"8de70d11ad389f04","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Supply to building's Load from fixed Battery\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4280,"y":560,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"f18572c60c013158","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Supply to building's Load + Charge fixed Battery\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4280,"y":520,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"dcfaa0bbd0a1c1ac","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Supply to building's Load\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4280,"y":480,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"9396b269349c5f21","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Take power from Utility Grid\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4280,"y":440,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"03f139670fa28ee0","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Supply to building's Load\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4280,"y":400,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"5285192d5323f5d6","type":"ui_slider","z":"c9abc510b829be32","name":"Extra Battery","label":"Extra Battery %","tooltip":"","group":"f864c1f81634f79a","order":2,"width":0,"height":0,"passthru":true,"outs":"end","topic":"topic","topicType":"msg","min":0,"max":"100","step":"10","x":3910,"y":740,"wires":[["8f82e68b01b65962","ac0569328928aa1e"]]},{"id":"8f82e68b01b65962","type":"ui_gauge","z":"c9abc510b829be32","name":"Extra Battery","group":"f864c1f81634f79a","order":4,"width":4,"height":6,"gtype":"donut","title":"Extra Battery %","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"40","seg2":"80","x":4110,"y":800,"wires":[]},{"id":"ac0569328928aa1e","type":"function","z":"c9abc510b829be32","name":"to Object","func":"var ExBatPer = msg.payload;\nmsg.payload = {ExBatPer};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4100,"y":740,"wires":[["f855d11cabe50536"]]},{"id":"f855d11cabe50536","type":"join","z":"c9abc510b829be32","name":"","mode":"custom","build":"merged","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"5","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":4270,"y":740,"wires":[["53bf902b376ee78d"]]},{"id":"53bf902b376ee78d","type":"switch","z":"c9abc510b829be32","name":"Full \\\\ Semi \\\\ 0","property":"payload.ExBatPer","propertyType":"msg","rules":[{"t":"eq","v":"100","vt":"num"},{"t":"btwn","v":"1","vt":"num","v2":"99","v2t":"num"},{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":4440,"y":740,"wires":[["7e6139daffa388b6"],["40387209c1eccd20"],["ebd7e23fb57a96d6"]]},{"id":"ebd7e23fb57a96d6","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Charging Extra Battery\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4620,"y":780,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"40387209c1eccd20","type":"function","z":"c9abc510b829be32","name":"ML\\\\Work","func":"var ans = \"Charging extra Battery + feeding Utility Grid in peak hours\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4620,"y":740,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]],"icon":"font-awesome/fa-area-chart"},{"id":"7e6139daffa388b6","type":"function","z":"c9abc510b829be32","name":"","func":"var ans = \"Feeding surplus power to Utility Grid\";\nmsg.payload = {ans};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":4620,"y":700,"wires":[["29dfa7013be8b7a9","34098f4632f61896"]]},{"id":"d41a2841809a792d","type":"ui_chart","z":"c9abc510b829be32","name":"","group":"807060a363c46cc8","order":5,"width":0,"height":0,"label":"chart","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"140","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"useDifferentColor":false,"x":3510,"y":520,"wires":[[]]},{"id":"6c0faf44eb1b464f","type":"ui_gauge","z":"c9abc510b829be32","name":"","group":"807060a363c46cc8","order":4,"width":0,"height":0,"gtype":"gage","title":"Kw-hr","label":"units","format":"{{value}}","min":0,"max":"140","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":3450,"y":480,"wires":[]},{"id":"5ef3e01225ed52b6","type":"ui_slider","z":"c9abc510b829be32","name":"","label":"Load","tooltip":"","group":"807060a363c46cc8","order":5,"width":0,"height":0,"passthru":true,"outs":"all","topic":"topic","topicType":"msg","min":0,"max":"140","step":1,"x":3290,"y":480,"wires":[["6c0faf44eb1b464f","d41a2841809a792d","c32a26fb884ab709","05e19b66f925bf4a"]]},{"id":"10f89f137c1efa4e","type":"ui_gauge","z":"c9abc510b829be32","name":"","group":"063c60c3df56d96f","order":2,"width":0,"height":0,"gtype":"gage","title":"Current Power Generated","label":"Watt","format":"{{value}}","min":0,"max":"40000","colors":["#66d6ba","#e6e600","#ff7300"],"seg1":"50","seg2":"100","x":3710,"y":380,"wires":[]},{"id":"05e19b66f925bf4a","type":"ui_gauge","z":"c9abc510b829be32","name":"","group":"020de901b0900139","order":4,"width":0,"height":0,"gtype":"gage","title":"LOAD in Kw-hr","label":"units","format":"{{value}}","min":0,"max":"140","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":3360,"y":400,"wires":[]},{"id":"681dfe3b32973982","type":"ui_slider","z":"c9abc510b829be32","name":"","label":"power","tooltip":"","group":"75591281.ef94ac","order":0,"width":0,"height":0,"passthru":true,"outs":"all","topic":"topic","topicType":"msg","min":0,"max":"40000","step":1,"x":2990,"y":320,"wires":[["10f89f137c1efa4e","c32a26fb884ab709"]]},{"id":"f08a75afcc569cf8","type":"ui_group","name":"HALL","tab":"d140986aa13a8e9c","order":1,"disp":true,"width":"6","collapse":false},{"id":"9fd67e60fd54a70d","type":"ui_group","name":"KITCHEN","tab":"d140986aa13a8e9c","order":4,"disp":true,"width":"6","collapse":false},{"id":"1c8559ee9146e2b1","type":"ui_group","name":"ROOM","tab":"d140986aa13a8e9c","order":5,"disp":true,"width":"6","collapse":false},{"id":"a817e2f95a1a20c1","type":"ui_group","name":"BATHROOM","tab":"d140986aa13a8e9c","order":6,"disp":true,"width":"6","collapse":false},{"id":"b4b6f54e49e15b48","type":"ui_group","name":"HALL","tab":"c1d24959248ed588","order":4,"disp":true,"width":"6","collapse":false},{"id":"0e6e342dd494185f","type":"ui_group","name":"KITCHEN","tab":"c1d24959248ed588","order":5,"disp":true,"width":"6","collapse":false},{"id":"7e9ed55064306e07","type":"ui_group","name":"ROOM","tab":"c1d24959248ed588","order":6,"disp":true,"width":"6","collapse":false},{"id":"844de366a2096c08","type":"ui_group","name":"BATHROOM","tab":"c1d24959248ed588","order":7,"disp":true,"width":"6","collapse":false},{"id":"ab3fbc22ba5eac30","type":"ui_group","name":"HALL","tab":"1eea2aa1104ae84c","order":4,"disp":true,"width":"6","collapse":false},{"id":"dc94ec908cc19022","type":"ui_group","name":"KITCHEN","tab":"1eea2aa1104ae84c","order":5,"disp":true,"width":"6","collapse":false},{"id":"0b41ee351a396b17","type":"ui_group","name":"ROOM","tab":"1eea2aa1104ae84c","order":6,"disp":true,"width":"6","collapse":false},{"id":"9af2f60aafbcdd9d","type":"ui_group","name":"BATHROOM","tab":"1eea2aa1104ae84c","order":7,"disp":true,"width":"6","collapse":false},{"id":"74cf49f767cefb27","type":"ui_group","name":"HALL","tab":"9d6e7c30f078feab","order":4,"disp":true,"width":"6","collapse":false},{"id":"c44c7164d6a5d074","type":"ui_group","name":"KITCHEN","tab":"9d6e7c30f078feab","order":5,"disp":true,"width":"6","collapse":false},{"id":"a0b46ffa94484c2b","type":"ui_group","name":"ROOM","tab":"9d6e7c30f078feab","order":6,"disp":true,"width":"6","collapse":false},{"id":"ed2ae3468d22061a","type":"ui_group","name":"BATHROOM","tab":"9d6e7c30f078feab","order":7,"disp":true,"width":"6","collapse":false},{"id":"c8cbe6b65a841734","type":"ui_group","name":"HALL","tab":"d14abadaf1fb49c7","order":4,"disp":true,"width":"6","collapse":false},{"id":"4dd61a009687ade5","type":"ui_group","name":"KITCHEN","tab":"d14abadaf1fb49c7","order":5,"disp":true,"width":"6","collapse":false},{"id":"6b83965e79c59d05","type":"ui_group","name":"ROOM","tab":"d14abadaf1fb49c7","order":6,"disp":true,"width":"6","collapse":false},{"id":"d9f2f9a0fe76ab16","type":"ui_group","name":"BATHROOM","tab":"d14abadaf1fb49c7","order":7,"disp":true,"width":"6","collapse":false},{"id":"84f9a7c9fb746aaa","type":"ui_group","name":"PARKING & ENTRANCE","tab":"9c5f33325759c37f","order":1,"disp":true,"width":"6","collapse":false},{"id":"529f23325c323afb","type":"ui_group","name":"RECEPTION","tab":"9c5f33325759c37f","order":2,"disp":true,"width":"6","collapse":false},{"id":"eaddb410e9f5c0a1","type":"ui_group","name":"TERRACE","tab":"9c5f33325759c37f","order":3,"disp":true,"width":"6","collapse":false},{"id":"9af80d7998736881","type":"ui_group","name":"STAIRS","tab":"9c5f33325759c37f","order":4,"disp":true,"width":"6","collapse":false},{"id":"7368d703ebc5dd9f","type":"ui_group","name":"CORRIDOR","tab":"9c5f33325759c37f","order":5,"disp":true,"width":"6","collapse":false},{"id":"b0b6a1030406de22","type":"ui_group","name":"MISC.","tab":"9c5f33325759c37f","order":6,"disp":true,"width":"6","collapse":false},{"id":"c03d94f06c461ff7","type":"ui_group","name":"PV Details","tab":"fa9fb59277093caa","order":3,"disp":true,"width":"6","collapse":false},{"id":"022e02fd5c42da8f","type":"ui_group","name":"Power generated","tab":"fa9fb59277093caa","order":3,"disp":true,"width":"6","collapse":false},{"id":"f864c1f81634f79a","type":"ui_group","name":"Battery Details","tab":"e7922604c3560b8b","order":2,"disp":true,"width":8,"collapse":false},{"id":"dda64d883c89c018","type":"ui_group","name":"Results","tab":"e7922604c3560b8b","order":3,"disp":true,"width":12,"collapse":false},{"id":"807060a363c46cc8","type":"ui_group","name":"total load","tab":"6b0499c0d37ee49d","order":2,"disp":true,"width":"6","collapse":false},{"id":"063c60c3df56d96f","type":"ui_group","name":"Power Side","tab":"e7922604c3560b8b","order":1,"disp":true,"width":12,"collapse":false},{"id":"020de901b0900139","type":"ui_group","name":"Load","tab":"e7922604c3560b8b","order":4,"disp":true,"width":"6","collapse":false},{"id":"75591281.ef94ac","type":"ui_group","name":"Home","tab":"94730215.8de1d","order":1,"disp":true,"width":"6","collapse":false},{"id":"d140986aa13a8e9c","type":"ui_tab","name":"FLAT1","icon":"dashboard","disabled":false,"hidden":false},{"id":"c1d24959248ed588","type":"ui_tab","name":"FLAT2","icon":"dashboard","disabled":false,"hidden":false},{"id":"1eea2aa1104ae84c","type":"ui_tab","name":"FLAT3","icon":"dashboard","disabled":false,"hidden":false},{"id":"9d6e7c30f078feab","type":"ui_tab","name":"FLAT4","icon":"dashboard","disabled":false,"hidden":false},{"id":"d14abadaf1fb49c7","type":"ui_tab","name":"FLAT5","icon":"dashboard","disabled":false,"hidden":false},{"id":"9c5f33325759c37f","type":"ui_tab","name":"OTHER LOADS","icon":"dashboard","disabled":false,"hidden":false},{"id":"fa9fb59277093caa","type":"ui_tab","name":"Generation Side","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"e7922604c3560b8b","type":"ui_tab","name":"Battery","icon":"dashboard","order":3,"disabled":false,"hidden":false},{"id":"6b0499c0d37ee49d","type":"ui_tab","name":"Building Load","icon":"dashboard","disabled":false,"hidden":false},{"id":"94730215.8de1d","type":"ui_tab","name":"Light intensity","icon":"dashboard","disabled":false,"hidden":false}]